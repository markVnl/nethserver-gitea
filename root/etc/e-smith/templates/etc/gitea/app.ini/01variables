{
    use NethServer::Password;
    use esmith::ConfigDB;
    

    $giteaDomain = $DomainName || 'localdomain';
    $giteaFQDN = $SystemName . "." . $giteaDomain;
    $giteaKey = substr( (esmith::util::genRandomHash()), 0, 20 );
    $giteaInternalToken = esmith::util::genRandomHash() . esmith::util::genRandomHash();

    $giteaMysqlPassword = NethServer::Password::store('gitea');

    my $Confdb = esmith::ConfigDB->open;
    my $sshd = $Confdb->get('sshd') or die "No sshd db entry found\n";    
    my $gitea = $Confdb->get('gitea') or die "No gitea db entry found\n";
    
    $giteaSshdPort = $sshd->prop('TCPPort') || '22';
    $giteaPort = $gitea->prop('TCPPort') || '3000';
    $giteaDisableRegistration = $gitea->prop('DisableRegistration') || 'true';
    $giteaEnableNotifyMail = $gitea->prop('EnableNotifyMail') || 'true';
    $giteaMailerEnabled = $gitea->prop('MailerEnabled') || 'true';
    $giteaMirrorInterval = $gitea->prop('MirrorInterval') || '10m';

    $OUT .= ";\n";
} 
